<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Custom Chatbot</title>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@7"></script>
<style>
body {
    font-family: sans-serif;
    background: #121212;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.chat-box {
    background: #1e1e1e;
    padding: 20px;
    border-radius: 10px;
    width: 90%;
    max-width: 400px;
}
#log {
    height: 300px;
    overflow-y: auto;
    border: 1px solid #333;
    padding: 10px;
    margin-bottom: 10px;
}
input, button {
    padding: 10px;
    margin: 5px 0;
    width: 100%;
    box-sizing: border-box;
}
button {
    background: #007bff;
    color: white;
    border: none;
}
</style>
</head>
<body>
<div class="chat-box">
    <div id="log"></div>
    <input type="text" id="input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...">
    <button onclick="send()">‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
</div>
<script>
const answers = [
    { question: "python ‡¶ï‡¶ø", answer: "Python ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡¶ø‡¶Ç ‡¶≠‡¶æ‡¶∑‡¶æ‡•§" },
    { question: "linux ‡¶ï‡¶ø", answer: "Linux ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ì‡¶™‡ßá‡¶® ‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡•§" },
    { question: "html ‡¶ï‡¶ø", answer: "HTML ‡¶π‡¶≤‡ßã ‡¶ì‡ßü‡ßá‡¶¨ ‡¶™‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶Ü‡¶™ ‡¶≠‡¶æ‡¶∑‡¶æ‡•§" },
];
const fuse = new Fuse(answers, { keys: ['question'], threshold: 0.4 });

async function send() {
    const input = document.getElementById('input');
    const text = input.value.trim();
    if (!text) return;
    log(`üßë‚Äçüíª ‡¶Ü‡¶™‡¶®‡¶ø: ${text}`);

    let ip = "Unknown";
    try {
        const res = await fetch("https://api.ipify.org?format=json");
        const data = await res.json();
        ip = data.ip;
    } catch {}

    const result = fuse.search(text);
    let reply = "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶®‡ßá‡¶á‡•§";
    if (result.length > 0) reply = result[0].item.answer;
    log(`ü§ñ ‡¶¨‡¶ü: ${reply}`);
    input.value = "";

    // Send to Telegram via Worker
    try {
        await fetch("YOUR_CLOUDFLARE_WORKER_URL", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ ip: ip, question: text })
        });
    } catch (e) {
        console.error("‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•:", e);
    }
}

function log(message) {
    const div = document.getElementById('log');
    const p = document.createElement('p');
    p.textContent = message;
    div.appendChild(p);
    div.scrollTop = div.scrollHeight;
}
</script>
</body>
</html>
